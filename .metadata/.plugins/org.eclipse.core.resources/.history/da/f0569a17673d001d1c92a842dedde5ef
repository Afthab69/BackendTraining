package com.orthofx;

import java.util.*;

public class RepeatingSequence {

	static String substringEval(String str) {
		int k = 0,i=0;
		ArrayList<String> stack = new ArrayList<String>();
		String val = "";
		while(i<str.length()) {
			char ch = str.charAt(i);
			i=i+1;
			if(Character.isLetter(ch)) {
				val = val+ ch;
			}
			else if(Character.isDigit(ch)) {
				k = k*10+Integer.valueOf(Integer.parseInt(""+ch));
			}
			else if(ch==']') {
				break;
			}
			else if(ch=='[') {
				for(int j=i;j<str.length();++j) {
					char c = str.charAt(j);
					if(c==']') {
						break;
					}
					stack.add(String.valueOf(c));
				}
				String st = new String();
				
				String sub = substringEval(st.valueOf(stack));
				while(k>0) {
					val=val+sub;
					k--;
				}
			}
		
		}
		return val;
	}

	public static void main(String[] args) {
		// TODO Auto-generated method stub
		String str,exp="";

		Scanner s = new Scanner(System.in);
		System.out.println("Enter String: ");
		str = s.nextLine();
		
		exp = substringEval(str);
		System.out.println(exp);
	}
}

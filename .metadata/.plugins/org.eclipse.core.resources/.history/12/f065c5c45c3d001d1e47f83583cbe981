package com.orthofx;

import java.util.*;

public class RepeatingSequence {

	static String substringEval(String str) {
		int k = 0,i=0;
		String val = "";
		while(i<str.length()) {
			char ch = str.charAt(i);
			if(Character.isLetter(ch)) {
				val = val+ ch;
			}
			else if(Character.isDigit(ch)) {
				k = k*10+Integer.valueOf(Integer.parseInt(""+ch));
			}
			else if(ch==']') {
				break;
			}
			else if(ch=='[') {
				int start = i+1,end=start;
				for(int j=start;j<str.length();++j) {
					char c = str.charAt(j);
					if(c==']') {
						end = j;
						break;
					}
				}
				String sub = substringEval(str.substring(start,end));
				while(k>0) {
					val=val+sub;
					k--;
				}
			}
		}
		i=i+1;
		return val;
	}

	public static void main(String[] args) {
		// TODO Auto-generated method stub
		String str,exp="";

		Scanner s = new Scanner(System.in);
		System.out.println("Enter String: ");
		str = s.nextLine();
		
		exp = substringEval(str);
		System.out.println(exp);
	}
}
